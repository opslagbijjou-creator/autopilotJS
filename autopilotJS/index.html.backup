<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>autopilotJS PRO | Visual Development Platform</title>
    <link rel="stylesheet" href="styles/main.css">
    <link rel="stylesheet" href="styles/sidebar.css">
    <link rel="stylesheet" href="styles/canvas.css">
    <link rel="stylesheet" href="styles/components.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet">
</head>
<body>
    <!-- Top Navigation -->
    <nav class="top-nav">
        <div class="nav-left">
            <div class="logo">
                <i class="fas fa-robot"></i>
                <span class="logo-text">autopilotJS <span class="logo-pro">PRO</span></span>
            </div>
            <div class="nav-divider"></div>
            <div class="project-info">
                <input type="text" id="projectName" value="Untitled Project" class="project-name-input">
                <span class="project-status">
                    <i class="fas fa-circle" style="color: #4CAF50;"></i>
                    Auto-saved
                </span>
            </div>
        </div>
        
        <div class="nav-center">
            <div class="toolbar">
                <button class="tool-btn" id="undoBtn" title="Undo (Ctrl+Z)">
                    <i class="fas fa-undo"></i>
                </button>
                <button class="tool-btn" id="redoBtn" title="Redo (Ctrl+Y)">
                    <i class="fas fa-redo"></i>
                </button>
                <div class="tool-divider"></div>
                <button class="tool-btn" id="alignLeftBtn" title="Align Left">
                    <i class="fas fa-align-left"></i>
                </button>
                <button class="tool-btn" id="alignCenterBtn" title="Align Center">
                    <i class="fas fa-align-center"></i>
                </button>
                <button class="tool-btn" id="alignRightBtn" title="Align Right">
                    <i class="fas fa-align-right"></i>
                </button>
                <div class="tool-divider"></div>
                <button class="tool-btn" id="gridToggleBtn" title="Toggle Grid">
                    <i class="fas fa-th"></i>
                </button>
                <button class="tool-btn" id="snapToggleBtn" title="Toggle Snap" class="active">
                    <i class="fas fa-magnet"></i>
                </button>
            </div>
        </div>
        
        <div class="nav-right">
            <button class="nav-btn" id="aiAssistantBtn">
                <i class="fas fa-magic"></i>
                AI Assistant
            </button>
            <button class="nav-btn primary" id="exportBtn">
                <i class="fas fa-rocket"></i>
                Export & Deploy
            </button>
            <div class="user-menu">
                <div class="user-avatar">
                    <i class="fas fa-user"></i>
                </div>
            </div>
        </div>
    </nav>

    <!-- Main App Container -->
    <div class="app-container">
        <!-- Left Sidebar - Components -->
        <aside class="sidebar left-sidebar">
            <div class="sidebar-header">
                <h3><i class="fas fa-cube"></i> Components</h3>
                <div class="sidebar-actions">
                    <button class="icon-btn" id="refreshComponents">
                        <i class="fas fa-sync"></i>
                    </button>
                </div>
            </div>
            
            <div class="component-categories">
                <div class="category active" data-category="basic">
                    <i class="fas fa-shapes"></i> Basic
                </div>
                <div class="category" data-category="forms">
                    <i class="fas fa-edit"></i> Forms
                </div>
                <div class="category" data-category="navigation">
                    <i class="fas fa-compass"></i> Navigation
                </div>
                <div class="category" data-category="media">
                    <i class="fas fa-image"></i> Media
                </div>
                <div class="category" data-category="advanced">
                    <i class="fas fa-star"></i> Advanced
                </div>
            </div>
            
            <div class="components-list" id="componentsList">
                <!-- Components will be loaded here -->
            </div>
            
            <div class="sidebar-footer">
                <button class="sidebar-btn" id="marketplaceBtn">
                    <i class="fas fa-store"></i> Component Marketplace
                </button>
            </div>
        </aside>

        <!-- Main Canvas Area -->
        <main class="main-content">
            <div class="canvas-toolbar">
                <div class="view-controls">
                    <select id="viewportSelect" class="viewport-select">
                        <option value="mobile">Mobile (390×844)</option>
                        <option value="tablet">Tablet (768×1024)</option>
                        <option value="desktop">Desktop (1440×900)</option>
                        <option value="responsive">Responsive</option>
                    </select>
                    <input type="range" id="zoomSlider" min="25" max="200" value="100" class="zoom-slider">
                    <span id="zoomValue" class="zoom-value">100%</span>
                </div>
                
                <div class="screen-controls">
                    <div class="screen-tabs" id="screenTabs">
                        <!-- Screen tabs will be added here -->
                    </div>
                    <button class="icon-btn" id="addScreenBtn">
                        <i class="fas fa-plus"></i>
                    </button>
                    <button class="icon-btn" id="screenSettingsBtn">
                        <i class="fas fa-cog"></i>
                    </button>
                </div>
                
                <div class="preview-controls">
                    <button class="preview-btn" id="previewBtn">
                        <i class="fas fa-eye"></i> Preview
                    </button>
                    <button class="preview-btn primary" id="livePreviewBtn">
                        <i class="fas fa-play"></i> Live
                    </button>
                </div>
            </div>
            
            <div class="canvas-container" id="canvasContainer">
                <div class="canvas-wrapper" id="canvasWrapper">
                    <div class="phone-frame" id="phoneFrame">
                        <div class="phone-notch"></div>
                        <div class="phone-screen" id="phoneScreen">
                            <!-- This is where the app will be rendered -->
                            <div id="appCanvas" class="app-canvas"></div>
                        </div>
                        <div class="phone-home-bar"></div>
                    </div>
                </div>
                
                <!-- Grid Overlay -->
                <div class="grid-overlay" id="gridOverlay"></div>
                
                <!-- Alignment Guides -->
                <div class="alignment-guides" id="alignmentGuides"></div>
            </div>
            
            <!-- Status Bar -->
            <div class="status-bar">
                <div class="status-item">
                    <span id="cursorPosition">X: 0, Y: 0</span>
                </div>
                <div class="status-item">
                    <span id="selectedElement">No selection</span>
                </div>
                <div class="status-item">
                    <span id="fpsCounter">60 FPS</span>
                </div>
                <div class="status-item">
                    <i class="fas fa-database"></i>
                    <span id="memoryUsage">~2.4MB</span>
                </div>
            </div>
        </main>

        <!-- Right Sidebar - Properties & Layers -->
        <aside class="sidebar right-sidebar">
            <div class="sidebar-tabs">
                <div class="sidebar-tab active" data-tab="properties">
                    <i class="fas fa-sliders-h"></i> Properties
                </div>
                <div class="sidebar-tab" data-tab="layers">
                    <i class="fas fa-layer-group"></i> Layers
                </div>
                <div class="sidebar-tab" data-tab="assets">
                    <i class="fas fa-image"></i> Assets
                </div>
                <div class="sidebar-tab" data-tab="code">
                    <i class="fas fa-code"></i> Code
                </div>
            </div>
            
            <div class="sidebar-content">
                <!-- Properties Panel -->
                <div class="tab-content active" id="propertiesTab">
                    <div class="properties-header">
                        <h4>Element Properties</h4>
                        <div class="element-type" id="elementType">
                            <i class="fas fa-cube"></i> No selection
                        </div>
                    </div>
                    
                    <div class="properties-body" id="propertiesBody">
                        <div class="empty-state">
                            <i class="fas fa-mouse-pointer"></i>
                            <p>Select an element to edit its properties</p>
                        </div>
                    </div>
                </div>
                
                <!-- Layers Panel -->
                <div class="tab-content" id="layersTab">
                    <div class="layers-header">
                        <h4>Layers</h4>
                        <div class="layer-actions">
                            <button class="icon-btn" title="Group selected">
                                <i class="fas fa-object-group"></i>
                            </button>
                            <button class="icon-btn" title="Toggle visibility">
                                <i class="fas fa-eye"></i>
                            </button>
                            <button class="icon-btn" title="Lock layer">
                                <i class="fas fa-lock"></i>
                            </button>
                        </div>
                    </div>
                    <div class="layers-tree" id="layersTree">
                        <!-- Layers will be rendered here -->
                    </div>
                </div>
                
                <!-- Assets Panel -->
                <div class="tab-content" id="assetsTab">
                    <div class="assets-header">
                        <h4>Assets Manager</h4>
                        <button class="icon-btn" id="uploadAssetBtn">
                            <i class="fas fa-upload"></i>
                        </button>
                    </div>
                    <div class="assets-grid" id="assetsGrid">
                        <!-- Assets will be shown here -->
                    </div>
                </div>
                
                <!-- Code Panel -->
                <div class="tab-content" id="codeTab">
                    <div class="code-header">
                        <h4>Code Editor</h4>
                        <select id="codeLanguage" class="code-select">
                            <option value="html">HTML</option>
                            <option value="css">CSS</option>
                            <option value="js">JavaScript</option>
                            <option value="react">React</option>
                            <option value="vue">Vue</option>
                        </select>
                    </div>
                    <div class="code-editor-container">
                        <div id="codeEditor" class="code-editor">
                            // Code will appear here
                            // Select an element to view its code
                        </div>
                    </div>
                </div>
            </div>
            
            <div class="sidebar-footer">
                <div class="theme-selector">
                    <label>Theme:</label>
                    <select id="themeSelect" class="theme-select">
                        <option value="light">Light</option>
                        <option value="dark">Dark</option>
                        <option value="auto">Auto</option>
                    </select>
                </div>
                <button class="sidebar-btn compact" id="settingsBtn">
                    <i class="fas fa-cog"></i>
                </button>
            </div>
        </aside>
    </div>

    <!-- AI Assistant Modal -->
    <div class="modal" id="aiModal">
        <div class="modal-content">
            <div class="modal-header">
                <h3><i class="fas fa-magic"></i> AI Assistant</h3>
                <button class="modal-close" id="closeAIModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="ai-prompt">
                    <textarea id="aiPromptInput" placeholder="Describe what you want to build... (e.g., 'Create a login form with social buttons and dark theme')"></textarea>
                    <button class="ai-generate-btn" id="generateWithAI">
                        <i class="fas fa-bolt"></i> Generate
                    </button>
                </div>
                <div class="ai-suggestions">
                    <h4>Quick Suggestions:</h4>
                    <div class="suggestion-chips">
                        <button class="suggestion-chip" data-prompt="Add a navigation bar with logo and menu">
                            Navigation Bar
                        </button>
                        <button class="suggestion-chip" data-prompt="Create a product card with image, title, price, and button">
                            Product Card
                        </button>
                        <button class="suggestion-chip" data-prompt="Build a dashboard with stats cards and charts">
                            Dashboard
                        </button>
                        <button class="suggestion-chip" data-prompt="Design a pricing table with 3 tiers">
                            Pricing Table
                        </button>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- Export Modal -->
    <div class="modal" id="exportModal">
        <div class="modal-content wide">
            <div class="modal-header">
                <h3><i class="fas fa-rocket"></i> Export & Deploy</h3>
                <button class="modal-close" id="closeExportModal">&times;</button>
            </div>
            <div class="modal-body">
                <div class="export-options">
                    <div class="export-option active" data-format="react">
                        <i class="fab fa-react"></i>
                        <h4>React</h4>
                        <p>Export as React components with hooks</p>
                    </div>
                    <div class="export-option" data-format="vue">
                        <i class="fab fa-vuejs"></i>
                        <h4>Vue 3</h4>
                        <p>Vue 3 Composition API</p>
                    </div>
                    <div class="export-option" data-format="angular">
                        <i class="fab fa-angular"></i>
                        <h4>Angular</h4>
                        <p>Angular components & modules</p>
                    </div>
                    <div class="export-option" data-format="html">
                        <i class="fab fa-html5"></i>
                        <h4>Static HTML</h4>
                        <p>Pure HTML/CSS/JS</p>
                    </div>
                    <div class="export-option" data-format="nextjs">
                        <i class="fas fa-server"></i>
                        <h4>Next.js</h4>
                        <p>React + SSR optimized</p>
                    </div>
                    <div class="export-option" data-format="flutter">
                        <i class="fas fa-mobile-alt"></i>
                        <h4>Flutter</h4>
                        <p>Mobile app export</p>
                    </div>
                </div>
                
                <div class="export-settings">
                    <h4>Export Settings</h4>
                    <div class="setting-group">
                        <label>
                            <input type="checkbox" id="includeDependencies" checked>
                            Include dependencies
                        </label>
                        <label>
                            <input type="checkbox" id="minifyCode" checked>
                            Minify code
                        </label>
                        <label>
                            <input type="checkbox" id="addComments">
                            Add comments
                        </label>
                    </div>
                    
                    <div class="deploy-options">
                        <h4>Deploy To:</h4>
                        <div class="deploy-buttons">
                            <button class="deploy-btn" data-service="vercel">
                                <i class="fas fa-cloud"></i> Vercel
                            </button>
                            <button class="deploy-btn" data-service="netlify">
                                <i class="fas fa-network-wired"></i> Netlify
                            </button>
                            <button class="deploy-btn" data-service="github">
                                <i class="fab fa-github"></i> GitHub Pages
                            </button>
                        </div>
                    </div>
                </div>
                
                <div class="export-actions">
                    <button class="export-action-btn" id="downloadZipBtn">
                        <i class="fas fa-download"></i> Download ZIP
                    </button>
                    <button class="export-action-btn primary" id="deployLiveBtn">
                        <i class="fas fa-cloud-upload-alt"></i> Deploy Live
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Monaco Editor (for code panel) -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/monaco-editor/0.34.1/min/vs/loader.min.js"></script>
    
    <!-- External Libraries -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/FileSaver.js/2.0.5/FileSaver.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/fabric.js/5.3.0/fabric.min.js"></script>
    
    <!-- Our Scripts -->
    <script src="scripts/core/StateManager.js"></script>
    <script src="scripts/core/RenderEngine.js"></script>
    <script src="scripts/core/EventSystem.js"></script>
    <script src="scripts/modules/Components.js"></script>
    <script src="scripts/modules/ExportEngine.js"></script>
    <script src="scripts/modules/AIAssistant.js"></script>
    <script src="scripts/modules/DesignSystem.js"></script>
    <script src="scripts/main.js"></script>
</body>
</html>